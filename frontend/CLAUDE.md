# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a simple React application built with TanStack Router and TanStack Start (full-stack React framework). It's a minimal counter app that demonstrates server functions for state persistence.

## Architecture

- **Framework**: React 19 with TanStack Start for full-stack functionality
- **Router**: TanStack Router with file-based routing
- **Build Tool**: Vite with TypeScript support
- **Styling**: Tailwind CSS with Vite integration
- **Server Functions**: Uses TanStack Start's `createServerFn` for backend logic
- **State Persistence**: Server-side file storage (`count.txt`) for counter state

## Key Files

- `src/routes/__root.tsx` - Root layout component with HTML document structure and meta tags
- `src/routes/index.tsx` - Home page with counter functionality and server functions
- `src/router.tsx` - Router configuration with scroll restoration
- `src/routeTree.gen.ts` - Auto-generated route tree (do not edit manually)
- `vite.config.ts` - Vite configuration with TanStack Start, React, TypeScript paths, and Tailwind plugins

## Development Commands

```bash
# Start development server (runs on port 3000 with host binding)
npm run dev

# Build for production
npm run build
```

## Server Functions

The app uses TanStack Start's server functions pattern:
- `getCount` - GET server function to read current count from file
- `updateCount` - POST server function to increment count with validation
- Server functions run on the backend and handle file I/O operations via Node.js fs module
- Counter state persists across sessions in `count.txt` file

## Route Structure

- Uses file-based routing with TanStack Router
- Routes are defined in `src/routes/` directory
- Route tree is auto-generated by TanStack Router and should not be manually edited
- Each route exports a `Route` object created with `createFileRoute` or `createRootRoute`
- Root route handles HTML document structure, head content, and scripts injection
- Index route demonstrates server function usage with loader for data fetching

## TypeScript Configuration

- Strict null checks enabled for better type safety
- Modern ES2022 target
- JSX configured for React 17+ automatic runtime
- Bundler module resolution for Vite compatibility
- Skip lib checks for faster compilation